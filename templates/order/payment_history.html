{% extends 'base.html' %} {% load static %} {% block content %}
<div class="container-fluid py-5">
  <div
    class="text-center wow fadeInUp row justify-content-between"
    data-wow-delay="0.1s"
  >
    <div class="col-md-3">
      <button class="btn btn-info btn-lg rounded-pill">
        <span class="spinner-border spinner-border-sm"></span>
        You have {{orders.count}} orders
      </button>
    </div>
    <div class="col-md-3">
      <h6 class="section-title bg-white text-center text-primary px-3">
        Orders
      </h6>
      <h1 class="mb-4">Payment history</h1>
    </div>
    <div class="col-md-3">
      <button class="btn btn-warning btn-lg rounded-pill">
        <span class="spinner-border spinner-border-sm"></span>
        You paid {{total_paid}} $
      </button>
    </div>
    <table
      class="table table-striped table-responsive align-middle mb-0 bg-white mt-3"
    >
      <thead class="bg-light text-center fs-5">
        <tr>
          <th><i class="fa-solid fa-box"></i> Order</th>
          <th><i class="fa-solid fa-calendar"></i> Created date</th>
          <th><i class="fa-solid fa-circle-info"></i> Status</th>
          <th><i class="fa-solid fa-money-check-dollar"></i> Total</th>
          <th><i class="fa-sharp fa-solid fa-file-invoice"></i> Details</th>
        </tr>
      </thead>
      <tbody class="text-center">
        {% for order in orders %}
        <tr>
          <td>
            <p class="fw-bold m-1">Order number</p>
            <p class="fw-bold m-1">{{forloop.counter}}</p>
          </td>
          <td>
            <p class="fw-semi-bold m-1 fw-5">
              {{order.placed_at|date:"SHORT_DATE_FORMAT"}}
            </p>
          </td>
          <td>
            <span
              class="btn {% if order.get_payment_status == 'Complete' %} btn-primary {% elif order.get_payment_status == 'Pending' %} btn-warning {% else %} btn-danger {% endif %} rounded-pill d-inline m-1"
              >{{order.get_payment_status}}</span
            >
          </td>
          <td class="fw-semi-bold fs-4">{{order.total}} $</td>
          <td>
            <button
              type="button"
              class="btn btn-info btn-rounded btn-sm fw-bold"
              data-mdb-ripple-color="dark"
            >
              View details
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock content %}
